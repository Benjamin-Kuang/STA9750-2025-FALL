<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.21">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jin (Benjamin) Kuang, Ryan Ram, Tenchi Chen, Enkel Mezini, Christopher Chan, Siya Aneja">
<meta name="dcterms.date" content="2025-12-18">

<title>Final Summary Report – Weight Watchers – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea1d7ac60288e0f1efdbc993fd8432ae.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-fae2b3aaf5b6259cdc09327568c0539e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-and-motivation" id="toc-introduction-and-motivation" class="nav-link active" data-scroll-target="#introduction-and-motivation">Introduction and Motivation</a></li>
  <li><a href="#importance-of-analysis" id="toc-importance-of-analysis" class="nav-link" data-scroll-target="#importance-of-analysis">Importance of Analysis</a></li>
  <li><a href="#data-source" id="toc-data-source" class="nav-link" data-scroll-target="#data-source">Data Source</a></li>
  <li><a href="#relation-to-prior-work" id="toc-relation-to-prior-work" class="nav-link" data-scroll-target="#relation-to-prior-work">Relation to Prior Work</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#jin-benjamin-kuangs-individual-report---are-specific-age-groups-more-prone-to-easily-become-obese" id="toc-jin-benjamin-kuangs-individual-report---are-specific-age-groups-more-prone-to-easily-become-obese" class="nav-link" data-scroll-target="#jin-benjamin-kuangs-individual-report---are-specific-age-groups-more-prone-to-easily-become-obese">Jin (Benjamin) Kuang’s Individual Report - Are specific age groups more prone to easily become obese?</a></li>
  <li><a href="#ryan-rams-individual-report---how-sharply-does-obesity-prevalence-change-with-age-across-u.s.-states" id="toc-ryan-rams-individual-report---how-sharply-does-obesity-prevalence-change-with-age-across-u.s.-states" class="nav-link" data-scroll-target="#ryan-rams-individual-report---how-sharply-does-obesity-prevalence-change-with-age-across-u.s.-states">Ryan Ram’s Individual Report - How Sharply Does Obesity Prevalence Change with Age Across U.S. States?</a></li>
  <li><a href="#chris-individual-report---is-obesity-regionally-concentrated-based-across-u.s.-states" id="toc-chris-individual-report---is-obesity-regionally-concentrated-based-across-u.s.-states" class="nav-link" data-scroll-target="#chris-individual-report---is-obesity-regionally-concentrated-based-across-u.s.-states">Chris’ Individual Report - Is obesity regionally concentrated based across U.S. States?</a></li>
  <li><a href="#tenchis-individual-report---at-what-age-does-obesity-become-common-in-each-state-and-which-states-reach-high-obesity-levels-earlier-or-later-than-the-national-pattern" id="toc-tenchis-individual-report---at-what-age-does-obesity-become-common-in-each-state-and-which-states-reach-high-obesity-levels-earlier-or-later-than-the-national-pattern" class="nav-link" data-scroll-target="#tenchis-individual-report---at-what-age-does-obesity-become-common-in-each-state-and-which-states-reach-high-obesity-levels-earlier-or-later-than-the-national-pattern">Tenchi’s Individual Report - At what age does obesity become “common” in each state, and which states reach high obesity levels earlier or later than the national pattern?</a></li>
  <li><a href="#siyas-individual-report---what-caused-obesity-rates-in-florida-and-west-virginia-to-act-weird" id="toc-siyas-individual-report---what-caused-obesity-rates-in-florida-and-west-virginia-to-act-weird" class="nav-link" data-scroll-target="#siyas-individual-report---what-caused-obesity-rates-in-florida-and-west-virginia-to-act-weird">Siya’s Individual Report - What caused obesity rates in Florida and West Virginia to act “weird”?</a></li>
  <li><a href="#enkels-individual-report---is-obesity-rate-positively-correlated-with-age-within-each-state-of-u.s." id="toc-enkels-individual-report---is-obesity-rate-positively-correlated-with-age-within-each-state-of-u.s." class="nav-link" data-scroll-target="#enkels-individual-report---is-obesity-rate-positively-correlated-with-age-within-each-state-of-u.s.">Enkel’s Individual Report - Is obesity rate positively correlated with age within each state of U.S.?</a></li>
  </ul></li>
  <li><a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings">Key Findings</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#limitation" id="toc-limitation" class="nav-link" data-scroll-target="#limitation">Limitation</a></li>
  <li><a href="#potential-next-steps" id="toc-potential-next-steps" class="nav-link" data-scroll-target="#potential-next-steps">Potential Next Steps</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Summary Report – Weight Watchers</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jin (Benjamin) Kuang, Ryan Ram, Tenchi Chen, Enkel Mezini, Christopher Chan, Siya Aneja </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction-and-motivation" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-motivation">Introduction and Motivation</h2>
<p>Obesity is still one of the biggest public health challenges in the United States, and its impact goes beyond physical health. Higher obesity rates are tied to conditions like diabetes and heart disease, and they can also be linked to depression and lower quality of life. These trends also increase costs for healthcare systems and employers. At the same time, obesity does not affect everyone equally. Age matters, and where someone lives matters, but the patterns are not always clear from national averages alone.</p>
<p>Our project asks: How do obesity rates change across age groups and regions in the U.S., and which states show unusual patterns? Instead of treating obesity as one national story, we focus on how obesity changes across adulthood and how those trends differ by state. We also look for states that stand out from the typical pattern. This approach helps connect the data to real decisions, like when prevention efforts should start and which places may need more attention.</p>
</section>
<section id="importance-of-analysis" class="level2">
<h2 class="anchored" data-anchor-id="importance-of-analysis">Importance of Analysis</h2>
<p>Viewing obesity through both age and location has clear policy value. If some states reach high obesity levels earlier in adulthood, prevention needs to begin sooner in those places. If other states rise more slowly, the timing and focus of interventions may be different. Spotting states with unusual patterns also matters because it helps separate true public health concerns from changes that may be driven by survey instability or data quirks.</p>
<p>This project also highlights the need to be careful with survey-based data. We use clear visuals and simple comparisons to find patterns that are consistent across states and age groups, while staying cautious about over-interpreting noisy results. Overall, our goal is to pull out insights that are easy to explain and useful for decision-making, without pretending the data can answer every “why” question on its own.</p>
</section>
<section id="data-source" class="level2">
<h2 class="anchored" data-anchor-id="data-source">Data Source</h2>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://data.cdc.gov/api/views/hn4x-zwk7/rows.csv?accessType=DOWNLOAD"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>data_dir <span class="ot">&lt;-</span> <span class="st">"data"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_dir, <span class="st">"cdc_data.csv"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(data_dir)) {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(data_dir, <span class="at">showWarnings=</span><span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(file_path)) {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(url,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                <span class="at">destfile =</span> file_path, </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>obesity_NPO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(file_path)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>obesity_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://opendata.arcgis.com/datasets/3e0c1eb04e5c48b3be9040b0589d3ccf_8.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>National Obesity By Location: This dataset includes the percent of the state population who are obese.</p>
<p>Nutrition, Physical Activity, and Obesity - Behavioral Risk Factor Surveillance System: This dataset includes data on adult’s diet, physical activity, age, income and other factors.</p>
</section>
<section id="relation-to-prior-work" class="level2">
<h2 class="anchored" data-anchor-id="relation-to-prior-work">Relation to Prior Work</h2>
<p>Past research shows that obesity is influenced by a mix of behavior, demographics, and social conditions, and that these relationships are not the same for every group. Many studies try to identify which factors predict higher BMI or obesity, but those findings do not always translate into a clear picture of where obesity is most common and when it tends to rise across adulthood. That gap is part of why our project focuses on age and geography, since state-level patterns over the life course can be hidden when we only look at national averages.</p>
<p>For example, a 2009 study on lifestyle, demographics, dietary behavior, and obesity showed that one model does not fit everyone. It emphasized that factors like physical activity and sedentary time, along with demographic differences, can be strongly related to obesity, and that these relationships can vary across subgroups. A second study from 2016 compared different regression approaches and found that many core risk factors stay important across methods, but their impact can look different depending on where someone falls in the BMI range.</p>
<p>Together, this prior work supports two ideas that connect directly to our project. Obesity patterns differ across populations, and the way you summarize the data can change what you notice. Our project builds on this by shifting the focus to state-by-age patterns, looking at how obesity changes across adulthood in different places and identifying states where obesity becomes common earlier or where age trends look meaningfully different from the norm.</p>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<section id="jin-benjamin-kuangs-individual-report---are-specific-age-groups-more-prone-to-easily-become-obese" class="level3">
<h3 class="anchored" data-anchor-id="jin-benjamin-kuangs-individual-report---are-specific-age-groups-more-prone-to-easily-become-obese"><a href="https://benjamin-kuang.github.io/STA9750-2025-FALL/Final_Individual_Report.html">Jin (Benjamin) Kuang’s Individual Report - Are specific age groups more prone to easily become obese?</a></h3>
<p>Even though it seems that anyone at any age could have obesity, obesity actually is not equally spread across all ages. Some groups of people may be more vulnerable to obesity, while others may be more resistant or resilient to obesity. My contribution to understanding <strong>whether specific age groups in the United States are more prone to becoming obese</strong> is helpful for government policy makers or healthcare workers to determine the potential factors that caused obesity to be so prevalent in the United States, and therefore possibly prevent it in the near future.</p>
<section id="interactive-bar-chart-by-age-groups" class="level4">
<h4 class="anchored" data-anchor-id="interactive-bar-chart-by-age-groups">Interactive Bar Chart By Age Groups</h4>
<div class="cell" data-warnings="false">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>(<span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(plotly)))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>obesity <span class="ot">&lt;-</span> <span class="fu">subset</span>(obesity_NPO,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">grepl</span>(<span class="st">"Obese"</span>, Question, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>) <span class="sc">|</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">grepl</span>(<span class="st">"Obesity"</span>, Topic, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>obesity_age <span class="ot">&lt;-</span> obesity[<span class="sc">!</span><span class="fu">is.na</span>(obesity<span class="sc">$</span><span class="st">"Age(years)"</span>), <span class="fu">c</span>(<span class="st">"YearStart"</span>, <span class="st">"LocationAbbr"</span>, <span class="st">"Age(years)"</span>, <span class="st">"Data_Value"</span>)]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>age_summary <span class="ot">&lt;-</span> obesity_age <span class="sc">|&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(Data_Value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Age Group</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Sample Size</span><span class="st">`</span> <span class="ot">=</span> n) </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>highest_age_group <span class="ot">&lt;-</span> age_summary <span class="sc">|&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(<span class="st">`</span><span class="at">Age Group</span><span class="st">`</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_bars</span>(<span class="at">data =</span> <span class="fu">subset</span>(age_summary, <span class="st">`</span><span class="at">Age Group</span><span class="st">`</span> <span class="sc">!=</span> highest_age_group),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Age Group</span><span class="st">`</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="fu">round</span>(<span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>, <span class="dv">2</span>), <span class="st">"%"</span>),</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"orange"</span>),</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>           <span class="at">name =</span> <span class="st">"Obesity %"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_bars</span>(<span class="at">data =</span> <span class="fu">subset</span>(age_summary, <span class="st">`</span><span class="at">Age Group</span><span class="st">`</span> <span class="sc">==</span> highest_age_group),</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Age Group</span><span class="st">`</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="fu">round</span>(<span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>, <span class="dv">2</span>), <span class="st">"%"</span>),</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"red"</span>),</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>           <span class="at">name =</span> <span class="st">"Obesity %"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">data =</span> age_summary,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Age Group</span><span class="st">`</span>,</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Average Percentage in Obesity</span><span class="st">`</span>,</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">width =</span> <span class="dv">3</span>),</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Trend"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Average Obesity Rate By Age Group (Interactive Plot)"</span>,</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>                      <span class="at">categoryorder =</span> <span class="st">"array"</span>,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>                      <span class="at">categoryarray =</span> <span class="fu">c</span>(<span class="st">"18 - 24"</span>, </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"25 - 34"</span>, </span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"35 - 44"</span>, </span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"45 - 54"</span>, </span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"55 - 64"</span>, </span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"65 or older"</span>)),</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Average Obesity Rate in the Population"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-df700573deb344ad372b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-df700573deb344ad372b">{"x":{"visdat":{"3a104ef328b6":["function () ","plotlyVisDat"],"3a104d7ce2c":["function () ","data"],"3a102f87fe1":["function () ","data"],"3a10157e74d6":["function () ","data"]},"cur_data":"3a10157e74d6","attrs":{"3a104d7ce2c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","text":{},"hoverinfo":"text","marker":{"color":"orange"},"name":"Obesity %","inherit":true},"3a102f87fe1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","text":{},"hoverinfo":"text","marker":{"color":"red"},"name":"Obesity %","inherit":true},"3a10157e74d6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","line":{"color":"blue","width":3},"name":"Trend","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average Obesity Rate By Age Group (Interactive Plot)","xaxis":{"domain":[0,1],"automargin":true,"title":"Age Group","categoryorder":"array","categoryarray":["18 - 24","25 - 34","35 - 44","45 - 54","55 - 64","65 or older"],"type":"category"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Average Obesity Rate in the Population"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["18 - 24","25 - 34","35 - 44","55 - 64","65 or older"],"y":[22.204993342210386,31.405392809587216,35.04906790945406,36.476897470039944,33.559587217043941],"type":"bar","text":["22.2%","31.41%","35.05%","36.48%","33.56%"],"hoverinfo":["text","text","text","text","text"],"marker":{"color":"orange","line":{"color":"rgba(31,119,180,1)"}},"name":"Obesity %","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["45 - 54"],"y":[36.643874833555259],"type":"bar","text":"36.64%","hoverinfo":"text","marker":{"color":"red","line":{"color":"rgba(255,127,14,1)"}},"name":"Obesity %","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["18 - 24","25 - 34","35 - 44","45 - 54","55 - 64","65 or older"],"y":[22.204993342210386,31.405392809587216,35.04906790945406,36.643874833555259,36.476897470039944,33.559587217043941],"type":"scatter","mode":"lines","line":{"color":"blue","width":3},"name":"Trend","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>It is apparent from the plot that before 54 years old, the older you are, the higher chance of getting obese. This number starts to drop slightly when people are 55 years old, and greatly when they are 65 years old or older.</p>
</section>
<section id="interactive-line-chart-by-years" class="level4">
<h4 class="anchored" data-anchor-id="interactive-line-chart-by-years">Interactive Line Chart By Years</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>obesity_trend <span class="ot">&lt;-</span> obesity_age <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(YearStart, <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">`</span><span class="at">Average Obesity</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(Data_Value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>plot_by_year <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(obesity_trend,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> YearStart, <span class="at">y =</span> <span class="st">`</span><span class="at">Average Obesity</span><span class="st">`</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">group =</span> <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="fu">paste0</span>(<span class="st">"Age Group: "</span>, <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"&lt;br&gt;Average Obesity Rate: "</span>, <span class="fu">round</span>(<span class="st">`</span><span class="at">Average Obesity</span><span class="st">`</span>, <span class="dv">2</span>), <span class="st">"%"</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"&lt;br&gt;Year: "</span>, YearStart))) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Obesity Rate By Age Group Over 2011 – 2024 (Interactive Plot)"</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Age Group"</span>) <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Average Obesity Rate (%)"</span>) <span class="sc">+</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(plot_by_year, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6c0fff23a09e731c6d1d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6c0fff23a09e731c6d1d">{"x":{"data":[{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[20.477884615384614,20.626923076923077,20.917924528301889,20.925000000000001,21.371296296296297,21.708181818181817,22.125,22.18148148148148,23.141509433962263,23.006481481481483,23.139814814814816,23.587272727272726,23.830188679245282,23.715740740740742],"text":["Age Group: 18 - 24<br>Average Obesity Rate: 20.48%<br>Year: 2011","Age Group: 18 - 24<br>Average Obesity Rate: 20.63%<br>Year: 2012","Age Group: 18 - 24<br>Average Obesity Rate: 20.92%<br>Year: 2013","Age Group: 18 - 24<br>Average Obesity Rate: 20.92%<br>Year: 2014","Age Group: 18 - 24<br>Average Obesity Rate: 21.37%<br>Year: 2015","Age Group: 18 - 24<br>Average Obesity Rate: 21.71%<br>Year: 2016","Age Group: 18 - 24<br>Average Obesity Rate: 22.12%<br>Year: 2017","Age Group: 18 - 24<br>Average Obesity Rate: 22.18%<br>Year: 2018","Age Group: 18 - 24<br>Average Obesity Rate: 23.14%<br>Year: 2019","Age Group: 18 - 24<br>Average Obesity Rate: 23.01%<br>Year: 2020","Age Group: 18 - 24<br>Average Obesity Rate: 23.14%<br>Year: 2021","Age Group: 18 - 24<br>Average Obesity Rate: 23.59%<br>Year: 2022","Age Group: 18 - 24<br>Average Obesity Rate: 23.83%<br>Year: 2023","Age Group: 18 - 24<br>Average Obesity Rate: 23.72%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"18 - 24","legendgroup":"18 - 24","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[29.914423076923079,30.001923076923077,30.30188679245283,30.481481481481481,30.595370370370372,30.82,31.273148148148149,31.494444444444444,31.645283018867925,32.083333333333336,32.444444444444443,32.660909090909094,32.783962264150944,33.064814814814817],"text":["Age Group: 25 - 34<br>Average Obesity Rate: 29.91%<br>Year: 2011","Age Group: 25 - 34<br>Average Obesity Rate: 30%<br>Year: 2012","Age Group: 25 - 34<br>Average Obesity Rate: 30.3%<br>Year: 2013","Age Group: 25 - 34<br>Average Obesity Rate: 30.48%<br>Year: 2014","Age Group: 25 - 34<br>Average Obesity Rate: 30.6%<br>Year: 2015","Age Group: 25 - 34<br>Average Obesity Rate: 30.82%<br>Year: 2016","Age Group: 25 - 34<br>Average Obesity Rate: 31.27%<br>Year: 2017","Age Group: 25 - 34<br>Average Obesity Rate: 31.49%<br>Year: 2018","Age Group: 25 - 34<br>Average Obesity Rate: 31.65%<br>Year: 2019","Age Group: 25 - 34<br>Average Obesity Rate: 32.08%<br>Year: 2020","Age Group: 25 - 34<br>Average Obesity Rate: 32.44%<br>Year: 2021","Age Group: 25 - 34<br>Average Obesity Rate: 32.66%<br>Year: 2022","Age Group: 25 - 34<br>Average Obesity Rate: 32.78%<br>Year: 2023","Age Group: 25 - 34<br>Average Obesity Rate: 33.06%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(183,159,0,1)","dash":"solid"},"hoveron":"points","name":"25 - 34","legendgroup":"25 - 34","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(183,159,0,1)"}},"frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[33.547115384615381,34.148076923076921,34.260377358490565,34.419444444444444,34.597222222222221,34.553636363636365,34.75,35.155555555555559,35.386792452830186,35.480555555555554,35.982407407407408,36.232727272727274,36.114150943396226,35.968518518518522],"text":["Age Group: 35 - 44<br>Average Obesity Rate: 33.55%<br>Year: 2011","Age Group: 35 - 44<br>Average Obesity Rate: 34.15%<br>Year: 2012","Age Group: 35 - 44<br>Average Obesity Rate: 34.26%<br>Year: 2013","Age Group: 35 - 44<br>Average Obesity Rate: 34.42%<br>Year: 2014","Age Group: 35 - 44<br>Average Obesity Rate: 34.6%<br>Year: 2015","Age Group: 35 - 44<br>Average Obesity Rate: 34.55%<br>Year: 2016","Age Group: 35 - 44<br>Average Obesity Rate: 34.75%<br>Year: 2017","Age Group: 35 - 44<br>Average Obesity Rate: 35.16%<br>Year: 2018","Age Group: 35 - 44<br>Average Obesity Rate: 35.39%<br>Year: 2019","Age Group: 35 - 44<br>Average Obesity Rate: 35.48%<br>Year: 2020","Age Group: 35 - 44<br>Average Obesity Rate: 35.98%<br>Year: 2021","Age Group: 35 - 44<br>Average Obesity Rate: 36.23%<br>Year: 2022","Age Group: 35 - 44<br>Average Obesity Rate: 36.11%<br>Year: 2023","Age Group: 35 - 44<br>Average Obesity Rate: 35.97%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"35 - 44","legendgroup":"35 - 44","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[34.777884615384615,35.047115384615381,35.429245283018865,35.488888888888887,35.955555555555556,36.282727272727271,36.605555555555554,36.701851851851849,37.213207547169809,37.238888888888887,37.976851851851855,38.064545454545453,38.051886792452834,38.046296296296298],"text":["Age Group: 45 - 54<br>Average Obesity Rate: 34.78%<br>Year: 2011","Age Group: 45 - 54<br>Average Obesity Rate: 35.05%<br>Year: 2012","Age Group: 45 - 54<br>Average Obesity Rate: 35.43%<br>Year: 2013","Age Group: 45 - 54<br>Average Obesity Rate: 35.49%<br>Year: 2014","Age Group: 45 - 54<br>Average Obesity Rate: 35.96%<br>Year: 2015","Age Group: 45 - 54<br>Average Obesity Rate: 36.28%<br>Year: 2016","Age Group: 45 - 54<br>Average Obesity Rate: 36.61%<br>Year: 2017","Age Group: 45 - 54<br>Average Obesity Rate: 36.7%<br>Year: 2018","Age Group: 45 - 54<br>Average Obesity Rate: 37.21%<br>Year: 2019","Age Group: 45 - 54<br>Average Obesity Rate: 37.24%<br>Year: 2020","Age Group: 45 - 54<br>Average Obesity Rate: 37.98%<br>Year: 2021","Age Group: 45 - 54<br>Average Obesity Rate: 38.06%<br>Year: 2022","Age Group: 45 - 54<br>Average Obesity Rate: 38.05%<br>Year: 2023","Age Group: 45 - 54<br>Average Obesity Rate: 38.05%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"45 - 54","legendgroup":"45 - 54","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[35.654807692307692,35.753846153846155,35.736792452830187,35.898148148148145,36.00648148148148,35.798181818181817,36.302777777777777,36.299074074074078,36.734905660377358,36.44166666666667,37.327777777777776,37.280000000000001,37.579245283018871,37.814814814814817],"text":["Age Group: 55 - 64<br>Average Obesity Rate: 35.65%<br>Year: 2011","Age Group: 55 - 64<br>Average Obesity Rate: 35.75%<br>Year: 2012","Age Group: 55 - 64<br>Average Obesity Rate: 35.74%<br>Year: 2013","Age Group: 55 - 64<br>Average Obesity Rate: 35.9%<br>Year: 2014","Age Group: 55 - 64<br>Average Obesity Rate: 36.01%<br>Year: 2015","Age Group: 55 - 64<br>Average Obesity Rate: 35.8%<br>Year: 2016","Age Group: 55 - 64<br>Average Obesity Rate: 36.3%<br>Year: 2017","Age Group: 55 - 64<br>Average Obesity Rate: 36.3%<br>Year: 2018","Age Group: 55 - 64<br>Average Obesity Rate: 36.73%<br>Year: 2019","Age Group: 55 - 64<br>Average Obesity Rate: 36.44%<br>Year: 2020","Age Group: 55 - 64<br>Average Obesity Rate: 37.33%<br>Year: 2021","Age Group: 55 - 64<br>Average Obesity Rate: 37.28%<br>Year: 2022","Age Group: 55 - 64<br>Average Obesity Rate: 37.58%<br>Year: 2023","Age Group: 55 - 64<br>Average Obesity Rate: 37.81%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"55 - 64","legendgroup":"55 - 64","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"frame":null},{"x":[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[32.364423076923075,32.830769230769228,33.045283018867927,33.50925925925926,33.413888888888891,33.518181818181816,33.724074074074075,33.75648148148148,33.892452830188681,33.915740740740738,33.855555555555554,33.919090909090912,33.929245283018865,34.086111111111109],"text":["Age Group: 65 or older<br>Average Obesity Rate: 32.36%<br>Year: 2011","Age Group: 65 or older<br>Average Obesity Rate: 32.83%<br>Year: 2012","Age Group: 65 or older<br>Average Obesity Rate: 33.05%<br>Year: 2013","Age Group: 65 or older<br>Average Obesity Rate: 33.51%<br>Year: 2014","Age Group: 65 or older<br>Average Obesity Rate: 33.41%<br>Year: 2015","Age Group: 65 or older<br>Average Obesity Rate: 33.52%<br>Year: 2016","Age Group: 65 or older<br>Average Obesity Rate: 33.72%<br>Year: 2017","Age Group: 65 or older<br>Average Obesity Rate: 33.76%<br>Year: 2018","Age Group: 65 or older<br>Average Obesity Rate: 33.89%<br>Year: 2019","Age Group: 65 or older<br>Average Obesity Rate: 33.92%<br>Year: 2020","Age Group: 65 or older<br>Average Obesity Rate: 33.86%<br>Year: 2021","Age Group: 65 or older<br>Average Obesity Rate: 33.92%<br>Year: 2022","Age Group: 65 or older<br>Average Obesity Rate: 33.93%<br>Year: 2023","Age Group: 65 or older<br>Average Obesity Rate: 34.09%<br>Year: 2024"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(245,100,227,1)","dash":"solid"},"hoveron":"points","name":"65 or older","legendgroup":"65 or older","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,100,227,1)"}},"frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Average Obesity Rate By Age Group Over 2011 – 2024 (Interactive Plot) <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2010.3499999999999,2024.6500000000001],"tickmode":"array","ticktext":["2015","2020"],"tickvals":[2015,2020],"categoryorder":"array","categoryarray":["2015","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"<b> Year <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.598551573426573,38.943878496503494],"tickmode":"array","ticktext":["20","25","30","35"],"tickvals":[20,25,30,35],"categoryorder":"array","categoryarray":["20","25","30","35"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"<b> Average Obesity Rate (%) <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Age Group","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3a107d6610":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"3a1073fe5b14":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"3a107d6610","visdat":{"3a107d6610":["function (y) ","x"],"3a1073fe5b14":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>From this line chart, it is obvious that 45 - 64 (combining 45 - 54 and 55 - 64) seems to face the highest risk of getting obesity, since they lie above all other groups for each year. Besides, an overall increasing trend for each age group from 2011 to 2024 could be observed, which suggests that obesity for every age group has become worse and more prevalent every year than before.</p>
<p>Both graphs suggest that younger people (18 - 24 years old) are the least vulnerable to obesity, while people who are at 45 - 54 years old are the most vulnerable to obesity.</p>
</section>
</section>
<section id="ryan-rams-individual-report---how-sharply-does-obesity-prevalence-change-with-age-across-u.s.-states" class="level3">
<h3 class="anchored" data-anchor-id="ryan-rams-individual-report---how-sharply-does-obesity-prevalence-change-with-age-across-u.s.-states"><a href="https://wanderloost.github.io/STA9750-2025-FALL/final%20individual%20report.html">Ryan Ram’s Individual Report - How Sharply Does Obesity Prevalence Change with Age Across U.S. States?</a></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Choropleth.png" class="img-fluid figure-img"></p>
<figcaption>Choropleth Map</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Visual check.png" class="img-fluid figure-img"></p>
<figcaption>Visual check in a few representative states</figcaption>
</figure>
</div>
<p>The broader project asks whether obesity increases with age at the same rate everywhere or whether some states experience much sharper age-related increases, an important distinction because two states can have similar overall obesity levels but very different age profiles. Focusing on the relationship between age and obesity within each state reveals meaningful differences in when obesity risk accelerates across the life course, not just where obesity is most prevalent. For example, California and Illinois exhibit some of the steepest increases in obesity prevalence with age, indicating that obesity rises rapidly as adults move from young adulthood into middle age, while states such as Arizona and Mississippi show relatively flat age gradients, suggesting weaker age effects or consistently high prevalence across adulthood. These patterns are reinforced visually: line plots of obesity prevalence by age midpoint clearly show rapid age-related increases in some states and much flatter trajectories in others, while a choropleth map of slope estimates highlights geographic clustering of steeper and flatter age gradients that is not apparent from national summaries alone. Together, these results demonstrate that examining age–obesity relationships within states provides a more nuanced understanding of how obesity evolves across adulthood and strengthens the project’s broader goal of characterizing geographic and demographic variation in obesity across the United States.</p>
</section>
<section id="chris-individual-report---is-obesity-regionally-concentrated-based-across-u.s.-states" class="level3">
<h3 class="anchored" data-anchor-id="chris-individual-report---is-obesity-regionally-concentrated-based-across-u.s.-states"><a href="https://cchan101.github.io/STA9750-2025-FALL/STA_9750_Individual_Report.html">Chris’ Individual Report - Is obesity regionally concentrated based across U.S. States?</a></h3>
<div class="cell" data-output-fold="true">
<details class="code-fold">
<summary>Data Preparation and Merging</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get US state boundary data</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>states_map <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"state"</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize state names for merging</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>obesity_data <span class="ot">&lt;-</span> obesity_data <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">tolower</span>(NAME))</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#| output-fold: true</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Geospatial Visualization"</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge obesity data with geographic boundaries</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>map_obesity <span class="ot">&lt;-</span> <span class="fu">left_join</span>(states_map, obesity_data, <span class="at">by =</span> <span class="st">"region"</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate state centroids for label placement</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>state_centers <span class="ot">&lt;-</span> map_obesity <span class="sc">%&gt;%</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">%&gt;%</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">long =</span> <span class="fu">mean</span>(long),</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="fu">mean</span>(lat),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Obesity =</span> <span class="fu">first</span>(Obesity)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify small northeastern states requiring special label treatment</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>small_states <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"rhode island"</span>, <span class="st">"delaware"</span>, <span class="st">"connecticut"</span>, </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"district of columbia"</span>, <span class="st">"new jersey"</span>, <span class="st">"maryland"</span>, </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"massachusetts"</span>, <span class="st">"vermont"</span>, <span class="st">"new hampshire"</span>)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>state_centers_large <span class="ot">&lt;-</span> state_centers <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>region <span class="sc">%in%</span> small_states)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>state_centers_small <span class="ot">&lt;-</span> state_centers <span class="sc">%&gt;%</span> <span class="fu">filter</span>(region <span class="sc">%in%</span> small_states)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(map_obesity, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group, <span class="at">fill =</span> Obesity)) <span class="sc">+</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Direct centroid labels for larger states</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> state_centers_large, </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">label =</span> Obesity, <span class="at">group =</span> <span class="cn">NULL</span>),</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">3.5</span>, </span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Offset labels with leader lines for small northeastern states</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> state_centers_small, </span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">toupper</span>(<span class="fu">substr</span>(region, <span class="dv">1</span>, <span class="dv">2</span>)), <span class="st">": "</span>, Obesity), </span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>                      <span class="at">group =</span> <span class="cn">NULL</span>),</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>                  <span class="at">size =</span> <span class="fl">2.8</span>,</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fontface =</span> <span class="st">"bold"</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>                  <span class="at">nudge_x =</span> <span class="dv">15</span>,</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>                  <span class="at">direction =</span> <span class="st">"y"</span>,</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>                  <span class="at">segment.color =</span> <span class="st">"grey40"</span>,</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>                  <span class="at">segment.size =</span> <span class="fl">0.3</span>,</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>                  <span class="at">box.padding =</span> <span class="fl">0.3</span>,</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>                  <span class="at">point.padding =</span> <span class="fl">0.3</span>,</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>                  <span class="at">force =</span> <span class="dv">1</span>,</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>                  <span class="at">max.overlaps =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"#2c7bb6"</span>, <span class="at">mid =</span> <span class="st">"#ffffbf"</span>, <span class="at">high =</span> <span class="st">"#d7191c"</span>,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint =</span> <span class="dv">29</span>, </span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Obesity Rate (%)"</span>) <span class="sc">+</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Adult Obesity Rates by State"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Summary_Report_Weight_Watchers_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>My contribution establishes a geographic baseline for adult obesity in the United States by testing whether state-level obesity rates are regionally clustered or evenly distributed. Using a BRFSS-based dataset from the Lake County, Illinois Open Data Portal, I created a choropleth map that reveals a clear “obesity belt” across the Southeast, where states like Louisiana (36.2%) and Mississippi (35.6%) exceed 35%, while Mountain West and Northeast states like Colorado (25.3%) and Vermont (25.1%) show significantly lower rates. This 14-percentage-point range demonstrates meaningful geographic clustering rather than random distribution. Within the broader project, these findings provide the essential “where” component that contextualizes other team analyses on time trends and demographic patterns. The main limitation is that state-level aggregates mask local variation, suggesting future work should examine finer geographic scales and incorporate factors like physical activity, diet, income, and education to explain regional disparities.</p>
</section>
<section id="tenchis-individual-report---at-what-age-does-obesity-become-common-in-each-state-and-which-states-reach-high-obesity-levels-earlier-or-later-than-the-national-pattern" class="level3">
<h3 class="anchored" data-anchor-id="tenchis-individual-report---at-what-age-does-obesity-become-common-in-each-state-and-which-states-reach-high-obesity-levels-earlier-or-later-than-the-national-pattern"><a href="https://chentenchi.github.io/STA9750-2025-FALL/Tenchi_Chen_Individual_Report.html">Tenchi’s Individual Report - At what age does obesity become “common” in each state, and which states reach high obesity levels earlier or later than the national pattern?</a></h3>
<p>My contribution asks when obesity becomes common in each state. States can have similar overall obesity rates but reach high levels at different ages, which affects when prevention should begin.</p>
<p>I used CDC BRFSS obesity prevalence by state and age group and defined “high obesity” as 35 percent. For each state, I recorded the first age group where obesity reached 35 percent or higher, then summarized results with a state plot and a distribution chart.</p>
<p>Many states first cross 35 percent by ages 25 to 34 or 35 to 44, while fewer cross later and some never reach the threshold. This adds a simple timing perspective to the project, though results are descriptive because BRFSS is self-reported and age groups are broad.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk: per-state bar plot with red→green color scale</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only states that ever reach the threshold</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> state_thresholds <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(first_high_age))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># define colors from "bad" (early) to "better" (later)</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>age_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"25 - 34"</span> <span class="ot">=</span> <span class="st">"#d73027"</span>,  <span class="co"># red</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"35 - 44"</span> <span class="ot">=</span> <span class="st">"#fc8d59"</span>,  <span class="co"># orange</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"45 - 54"</span> <span class="ot">=</span> <span class="st">"#fee08b"</span>,  <span class="co"># yellow</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"55 - 64"</span> <span class="ot">=</span> <span class="st">"#91cf60"</span>   <span class="co"># green</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add "65+" here if it ever appears:</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "65+" = "#1a9850"</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  plot_data,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">as.numeric</span>(first_high_age),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">reorder</span>(state, <span class="fu">as.numeric</span>(first_high_age)),</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> first_high_age</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq_along</span>(age_levels),</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> age_levels</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> age_palette,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Earliest age group</span><span class="sc">\n</span><span class="st">with ≥ 35% obesity"</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"Earliest age group where obesity ≥ "</span>, threshold,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"% by state ("</span>, target_year, <span class="st">")"</span>),</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Age group (earlier = younger, more red = worse)"</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"State"</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Summary_Report_Weight_Watchers_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>state_counts <span class="ot">&lt;-</span> state_thresholds <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(first_high_age)) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(first_high_age)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>total_states <span class="ot">&lt;-</span> <span class="fu">sum</span>(state_counts<span class="sc">$</span>n)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>state_counts <span class="ot">&lt;-</span> state_counts <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">perc  =</span> <span class="dv">100</span> <span class="sc">*</span> n <span class="sc">/</span> total_states,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># compact label: count + percent only; age group stays in legend</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste0</span>(n, <span class="st">" ("</span>, <span class="fu">round</span>(perc), <span class="st">"%)"</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>age_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"25 - 34"</span> <span class="ot">=</span> <span class="st">"#d73027"</span>,  <span class="co"># red</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"35 - 44"</span> <span class="ot">=</span> <span class="st">"#fc8d59"</span>,  <span class="co"># orange</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"45 - 54"</span> <span class="ot">=</span> <span class="st">"#fee08b"</span>,  <span class="co"># yellow</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"55 - 64"</span> <span class="ot">=</span> <span class="st">"#91cf60"</span>   <span class="co"># green</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(state_counts,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> perc, <span class="at">fill =</span> first_high_age)) <span class="sc">+</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> age_palette,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Earliest age group</span><span class="sc">\n</span><span class="st">with ≥ 35% obesity"</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> label),</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.7</span>   <span class="co"># slightly smaller so the green slice fits better</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"Distribution of states by age group</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"when obesity first exceeds "</span>, threshold,</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"% ("</span>, target_year, <span class="st">")"</span>),</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Summary_Report_Weight_Watchers_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="siyas-individual-report---what-caused-obesity-rates-in-florida-and-west-virginia-to-act-weird" class="level3">
<h3 class="anchored" data-anchor-id="siyas-individual-report---what-caused-obesity-rates-in-florida-and-west-virginia-to-act-weird"><a href="https://siya306.github.io/STA9750-2025-FALL/finalindividualreport.html">Siya’s Individual Report - What caused obesity rates in Florida and West Virginia to act “weird”?</a></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/siya306/STA9750-2025-FALL/main/image.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption>Figure: Obesity Trend Comparison – Florida vs West Virginia</figcaption>
</figure>
</div>
<p>My individual analysis focused on understanding why Florida and West Virginia appeared to exhibit “weird” obesity trends in the group’s exploratory visualizations. Florida showed pronounced year-to-year fluctuations, while West Virginia displayed a consistently higher and steeper obesity trajectory compared to most other states. By isolating state-level obesity estimates over time, the analysis demonstrated that Florida’s apparent volatility is largely attributable to survey variability, uneven temporal coverage, and population heterogeneity rather than true population-level shifts. In contrast, West Virginia’s elevated and steadily increasing obesity prevalence was consistent across years, suggesting a genuine structural public health concern rather than a data artifact. This analysis played a critical role in preventing over-interpretation of noisy patterns and helped the group distinguish between real geographic risk and instability arising from survey-based measurement.</p>
</section>
<section id="enkels-individual-report---is-obesity-rate-positively-correlated-with-age-within-each-state-of-u.s." class="level3">
<h3 class="anchored" data-anchor-id="enkels-individual-report---is-obesity-rate-positively-correlated-with-age-within-each-state-of-u.s."><a href="https://enkelmezini.github.io/STA9750-2025-FALL/FinalProjectIndividual.html">Enkel’s Individual Report - Is obesity rate positively correlated with age within each state of U.S.?</a></h3>
<p>This analysis goes beyond national averages by asking how quickly obesity increases with age in each state. National summaries can hide regional differences, so the goal is to see whether the age and obesity relationship looks similar everywhere or varies by location. To do this, the analysis combines a heatmap with a correlation test to capture both visual patterns and the strength of the age and obesity link.</p>
<p>The main visualization is a heatmap showing obesity prevalence across all 50 states and six age groups. Ordering the age groups from 18 to 24 through 65 or older makes the age trend easy to follow within each state. This view helps identify where obesity is most severe and where it rises most sharply as populations age.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Load the readr library </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2.read_csv() to download the data</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>cdc_data_tidy <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://data.cdc.gov/api/views/hn4x-zwk7/rows.csv?accessType=DOWNLOAD"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cdc_data_tidy)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Data Preparation </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>age_data <span class="ot">&lt;-</span> cdc_data_tidy <span class="sc">%&gt;%</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Question <span class="sc">==</span> <span class="st">"Percent of adults aged 18 years and older who have obesity"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>         StratificationCategory1 <span class="sc">==</span> <span class="st">"Age (years)"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">is.na</span>(Data_Value),</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>         LocationDesc <span class="sc">!=</span> <span class="st">"National"</span>) <span class="sc">%&gt;%</span> <span class="co"># Good practice to remove National aggregate</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(LocationDesc, <span class="at">AgeGroup =</span> <span class="st">`</span><span class="at">Age(years)</span><span class="st">`</span>, Data_Value)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Define ordered age levels</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>age_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"18 - 24"</span>, <span class="st">"25 - 34"</span>, <span class="st">"35 - 44"</span>, <span class="st">"45 - 54"</span>, <span class="st">"55 - 64"</span>, <span class="st">"65 or older"</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and order the data</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>age_data_processed <span class="ot">&lt;-</span> age_data <span class="sc">%&gt;%</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AgeGroup <span class="sc">%in%</span> age_levels) <span class="sc">%&gt;%</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AgeGroup =</span> <span class="fu">factor</span>(AgeGroup, <span class="at">levels =</span> age_levels, <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">AgeNumeric =</span> <span class="fu">as.numeric</span>(AgeGroup))</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Slide 1: Heatmap with Smaller Y-Axis Labels</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>slide1_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(age_data_processed, <span class="fu">aes</span>(<span class="at">x =</span> AgeGroup, <span class="at">y =</span> LocationDesc, <span class="at">fill =</span> Data_Value)) <span class="sc">+</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">"magma"</span>, <span class="at">name =</span> <span class="st">"Obesity %"</span>) <span class="sc">+</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Obesity Rate by Age Group Across U.S. States"</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Prevalence generally increases up to middle age"</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span> <span class="co"># Removed Y label "State" to save space</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">2</span>)),</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="co"># Move legend to bottom to give more width to chart</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>()</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(slide1_plot)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Summary_Report_Weight_Watchers_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The heatmap shows a clear and consistent age pattern. In nearly every state, obesity rises from young adulthood into middle age and usually peaks around ages 55 to 64. After that, the 65 and older group often shows a small drop compared with 55 to 64. This suggests the age and obesity relationship is not perfectly linear and may level off later in life, possibly because of health changes in older adults or survival bias.</p>
<p>To back up what the heatmap suggests, the analysis also calculates a Spearman rank correlation for each state. This is a good fit because the age groups are ordered categories, not exact ages. The correlation helps quantify how strongly obesity increases with age in each state and highlights where the relationship is stronger or weaker, suggesting that factors beyond age may matter more in some places.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Slide 2: Correlation Plot with Smaller Y-Axis Labels</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Correlations</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>state_correlations <span class="ot">&lt;-</span> age_data_processed <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(LocationDesc) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Correlation =</span> <span class="fu">cor</span>(AgeNumeric, Data_Value, <span class="at">method =</span> <span class="st">"spearman"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Correlation))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>slide2_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(state_correlations, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(LocationDesc, Correlation), <span class="at">y =</span> Correlation)) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Correlation <span class="sc">&gt;</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="st">"#2E86C1"</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="st">"#C0392B"</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray50"</span>) <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlation Between Age and Obesity Rate"</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Spearman Rank Correlation (Positive = rate increases with age)"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>, <span class="co"># Removed X label "State" to save space</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Correlation Coefficient"</span>) <span class="sc">+</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">2</span>)),</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>() <span class="co"># Remove horizontal grid lines for cleaner look</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Print to screen to check</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(slide2_plot)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Summary_Report_Weight_Watchers_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The correlation results match the heatmap. Nearly every state shows a positive link between age and obesity, meaning obesity tends to rise as people get older. Hawaii is the main exception and has a much flatter pattern. Some states, such as Massachusetts and Minnesota, show stronger correlations, while Hawaii’s weaker relationship may reflect protective lifestyle or environmental factors. Overall, aging matters everywhere, but the strength of the age and obesity relationship depends on the state.</p>
</section>
</section>
<section id="key-findings" class="level2">
<h2 class="anchored" data-anchor-id="key-findings">Key Findings</h2>
<p>The central finding is that states differ meaningfully in how obesity prevalence changes with age. In some states, obesity rises steadily but moderately across adult age groups. In others, the increase from younger to older adults is much steeper.</p>
<p>When these age patterns are mapped across the United States, a clear geographic pattern emerges. Some regions show consistently steeper age-related increases in obesity, while others have flatter profiles. These differences are not obvious when looking only at overall obesity rates, which highlights the value of focusing on how obesity changes across age groups within each state.</p>
<p>Across nearly all states, obesity prevalence increases from young adulthood into midlife. Adults aged 18 - 24 consistently show the lowest rates, prevalence rises through the 35 - 64 age range, and then levels off or declines slightly at 65 or older. Importantly, states vary in how quickly obesity rises with age. States with steeper age and obesity slopes show a widening gap between younger and older adults, while flatter slopes tend to characterize states where obesity is more uniform across adulthood.</p>
<p>A threshold-based summary adds another view of timing. Some states exceed 35 percent obesity by early adulthood, while others do not reach that level until later age groups or never reach it at all. Many states first exceed the threshold in the 25 - 34 or 35 - 44 age groups, while relatively few first exceed it at older ages. This offers a simple way to compare earlier-onset states to later-onset states.</p>
<p>State trends also show a few notable exceptions. Florida exhibits noticeable year-to-year fluctuations that look like instability rather than a sustained shift. West Virginia remains consistently high with a steady upward trajectory, suggesting a persistently elevated obesity burden compared to other states.</p>
<p>Across the full dataset, average obesity prevalence differs clearly by age group: 22.2% for ages 18 - 24, 31.41% for ages 25 - 34, 35.05% for ages 35 - 44, 36.64% for ages 45 - 54, 36.48% for ages 55 - 64, and 33.56% for ages 65 or older. The pattern increases through midlife, peaks around ages 45 - 54, and then declines at older ages. The time series from 2011 to 2024 reinforces this pattern and also shows an overall upward trend across age groups, suggesting obesity has become more prevalent over time..</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This project shows that obesity trends in the United States are shaped by both age and geography. In most states, obesity increases as people move from young adulthood into midlife, then levels off or declines slightly in older age. We also see clear regional differences, with higher levels and steeper increases concentrated in parts of the South and Appalachia.</p>
<p>At the same time, the analysis shows that not every unusual pattern should be treated as a real shift in population health. By combining broad exploration with focused individual analyses, we were able to separate consistent, structural patterns from results that likely reflect survey variability. For example, West Virginia appears to represent a persistently high obesity burden, while Florida’s year-to-year swings are more consistent with instability than a clear trend.</p>
<p>Overall, our findings suggest that effective obesity prevention needs both a national view and a state-level view. Interventions should be informed by patterns that are consistent across age groups and over time, while also accounting for places where results may be sensitive to how the data are collected and summarized.</p>
</section>
<section id="limitation" class="level2">
<h2 class="anchored" data-anchor-id="limitation">Limitation</h2>
<p>This analysis uses BRFSS data, which relies on self-reported height and weight. Because people may underreport weight or overreport height, obesity prevalence can be underestimated. For that reason, the obesity rates reported here should be treated as estimates rather than exact population values.</p>
<p>BRFSS is also a repeated cross-sectional survey, not a study that follows the same individuals over time. Year-to-year changes reflect different samples and can be influenced by sampling and response variation. As a result, short-term fluctuations, such as those seen in Florida, may reflect survey variability rather than true changes in population health.</p>
<p>Finally, we worked with broad age groups and state-level summaries, and the project remained descriptive. This approach supports clear national comparisons, but it can hide local differences within states and does not explain why patterns occur. Adding factors like income, education, diet, and physical activity in future work would provide stronger explanations for the differences we observed.</p>
</section>
<section id="potential-next-steps" class="level2">
<h2 class="anchored" data-anchor-id="potential-next-steps">Potential Next Steps</h2>
<p>Our findings suggest obesity is shaped by both age and location, and that states differ in how early and how sharply obesity rises across adulthood. This supports the need for prevention strategies that are tailored by state and age group rather than relying on a single national approach.</p>
<p>Future work could add behavioral and socioeconomic factors such as physical activity, income, and education to better explain why patterns differ across states. It could also use finer geographic units, such as counties or metro areas, to identify local hot spots that state averages may hide. Finally, these results could be turned into a simple dashboard so public health teams can track changes over time and flag emerging issues.</p>
<p>An additional extension would be to group predictors into micro factors and macro factors to test which scale is more strongly linked to obesity patterns. This could help clarify whether interventions should focus more on individual behaviors or on broader structural conditions.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/<Benjamin-Kuang>\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>